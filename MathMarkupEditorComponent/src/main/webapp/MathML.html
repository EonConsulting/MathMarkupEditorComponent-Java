<!doctype html>

<html>
<head>
	<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
     <title> UNISA|MathML Editor </title>
	<link href="js/jquery-ui/jquery-ui.min.css" rel="stylesheet" >
	<script src="js/jquery-ui/external/jquery/jquery.js"></script>
	<script src="js/jquery-ui/jquery-ui.min.js"></script>

	<link href="js/codemirror/lib/codemirror.css" rel="stylesheet" >
	<script src="js/codemirror/lib/codemirror.js"></script>
	<script src="js/codemirror/mode/xml/xml.js"></script>
	<script src="js/codemirror/addon/selection/active-line.js"></script>

	<link href='css/spectrum.css' rel='stylesheet' />
	<script src='js/spectrum.js'></script>

	<link href="css/editor.css" rel="stylesheet" >
	<link href="styles/styles.mini.css" rel="stylesheet" >

	<script src="lang/en.js"></script>
	<script src="fonts/fmathFormulaFonts.js"></script>
	<script src="js/fmathEditorC.js"></script>
	<script src="js/fmathEditorJQuery.js"></script>
</head>
<body >
<div id="main">
  <h2 style="font-size:30px;cursor:pointer"  onclick="openNav()">&#9776; Select Editor</h2>
</div>

<center>
<button class="button2" onclick="openEditor()" value="Show FMath Editor"/>Show MathML Editor</button>
<button class="button2"onclick="changeMathML()" value="Change MathML"/>Change MathML</button>
<button class="button2" onclick="getMathML_CHARS()" value="Get MathML Char"/>Get MathML Char</button>
<button class="button2" onclick="getPng()" value="Get Image Png"/>Get Image Png</button>
<button class="button2" onclick="getMathML_ENTITIES()" value="Get MathML Entities"/>Get MathML Entities</button>
<!--<input type="button" onclick="setLatex()" value="Set Latex"/>
<button class="button2" onclick="getMathML_UNICODE()" value="Get MathML Unicode"/>Get MathML Unicode</button>
<input type="button" onclick="getLatex()" value="Get Latex"/>
<input type="button" onclick="getPng()" value="Get Image Png"/>-->
<br/>
</center>
<center>
<br><br>
<table>

	<tr>
		<td style="color: orange">Mathml: </td>
		<td>
<textarea id="textarea" style='width:600px; height:150px'>
&lt;math mathsize='40'&gt;
	&lt;mtext&gt;AB&lt;/mtext&gt;
	&lt;mo&gt;&#xB1;&lt;/mo&gt;
	&lt;mtext&gt;CD&lt;/mtext&gt;
&lt;/math&gt;
</textarea>
		</td>
		<!--<td>Latex:</td>
		<td>
<textarea id="textareaL" style='width:300px; height:50px'>\[x^2+2x+1\]</textarea>
		</td>-->
	</tr>
</table>
</center>

<br/>
<center>
 <p style="color: orange">Image:<input id="text"/></p>
 <br/>
<img id="image"  />
</center>
<br/>
<center>
	<div id="editor1"></div>
	<br/>
</center>

<div id="mySidenav" class="sidenav">
  <a href="javascript:void(0)" class="closebtn" onclick="closeNav()">&times;</a>
  <br><br><br><br>
  <a href="index.html">Home</a>
   <br>
  <a href="MathML.html">MathML Editor</a>
  <br>
  <a href="LaTex.html">LaTeX Editor</a>
  <br>
  <a href="#">Open XML</a>
</div>

<script>
	FMATH.ApplicationConfiguration.setFolderUrlForFonts("fonts");
	FMATH.ApplicationConfiguration.setFolderUrlForGlyphs("glyphs");

	var e1;
	function openEditor(){
		if(e1 ==null){
			e1 = $( "#editor1" ).mathEditor({ width: 1000, height:400 });
			e1.mathEditor("setSaveCallback", clientSaveMethod);
			e1.mathEditor("setMathML","<math mathsize='40'><mi>X</mi><mo>+</mo><mi>Y</mi></math>");
		}
	}

	function clientSaveMethod(){
		// get info from editor ex: get image
		getPng();
	}

	function setLatex(){
		if(e1 != null){
			var ta = document.getElementById("textareaL");
			e1.mathEditor("setLatex", ta.value);
		}
	}

	function getLatex(){
		if(e1 !=null){
			alert(e1.mathEditor("getLatex"));
		}
	}

	function changeMathML(){
		if(e1 != null){
			var ta = document.getElementById("textarea");
			e1.mathEditor("setMathML", ta.value);
		}
	}

	function getMathML_CHARS(){
		if(e1 !=null){
			// type could be CHARS, ENTITIES or UNICODE;
			alert(e1.mathEditor("getMathML", "CHARS", "true"));
		}
	}

	function getMathML_ENTITIES(){
		if(e1 !=null){
			// type could be CHARS, ENTITIES or UNICODE;
			alert(e1.mathEditor("getMathML", "ENTITIES", "true"));
		}
	}
	function getMathML_UNICODE(){
		if(e1 !=null){
			// type could be CHARS, ENTITIES or UNICODE;
			alert(e1.mathEditor("getMathML", "UNICODE", "true"));
		}
	}
	function getPng(){
		if(e1 !=null){
			var img = document.getElementById("image");
			var elem = document.getElementById("text");
			img.src = e1.mathEditor("getImage","png");
			elem.value = img.src;
		}
	}

</script>

<script>
function openNav() {
    document.getElementById("mySidenav").style.width = "250px";
    document.getElementById("main").style.marginLeft = "250px";
    document.body.style.backgroundColor = "rgba(0,0,0,0.4)";
}

function closeNav() {
    document.getElementById("mySidenav").style.width = "0";
    document.getElementById("main").style.marginLeft= "0";
    document.body.style.backgroundColor = "white";
}
</script>

</body>
</html>